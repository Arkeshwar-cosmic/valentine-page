<!DOCTYPE html>
<html lang="en">
<head>

<link href="https://fonts.googleapis.com/css2?family=Luckiest+Guy&display=swap" rel="stylesheet">

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Be My Valentine</title>

<style>
body {
  height: 100vh;
  margin: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  font-family: 'Baloo 2', cursive;
  overflow: hidden;
  background: linear-gradient(-45deg, #ff9ec4, #ffe6eb, #ffb6d9, #ffd6e8);
  background-size: 400% 400%;
  animation: gradientBG 10s ease infinite;
}

@keyframes gradientBG {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.container {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 25px;
  z-index: 2;
}

.buttons {
  display: flex;
  gap: 50px;
}

.question {
  font-size: 28px;
  font-weight: bold;
  color: #8b004b;
  text-shadow: 0 0 10px #ff69b4;
}

button {
  padding: 15px 30px;
  border-radius: 50px;
  font-size: 18px;
  font-weight: bold;
  cursor: pointer;
  transition: 0.25s ease;
}

#yes {
  border: 2px solid #ff0080;
  background: transparent;
  color: #ff0080;
  box-shadow: 0 0 8px #ff0080;
}

#yes:hover {
  background: #ff0080;
  color: white;
  box-shadow: 0 0 15px #ff0080, 0 0 25px #8000ff;
}

#no {
  background: transparent;
  border: 2px solid #ff1493;
  color: #8b004b;
  box-shadow: 0 0 10px #ff1493;
}

#message {
  position: absolute;
  letter-spacing: 3px;
  font-size: 50px;
  font-weight: bold;
  color: #DA70D6;
  display: none;
  z-index: 3;
  text-align: center;
  font-family: 'Luckiest Guy', cursive;
  animation: glowPulse 1.6s ease-in-out infinite alternate;

  text-shadow:
    -4px -4px 0 #9F2B68,
     4px -4px 0 #9F2B68,
    -4px  4px 0 #9F2B68,
     4px  4px 0 #9F2B68,
     0 6px 10px rgba(0,0,0,0.25);
     
}

.bg-heart {
  position: absolute;
  font-size: 60px;
  opacity: 0.25;
  animation: floatHeart linear infinite;
  z-index: 0;
  pointer-events: none;
}

@keyframes floatHeart {
  0% {
    transform: translateY(100vh) translateX(0px);
  }
  100% {
    transform: translateY(-20vh) translateX(80px);
  }
}


canvas {
  position: absolute;
  top: 0;
  left: 0;
  z-index: 1;
}
.heart {
  position: absolute;
  font-size: 30px;
  animation: fall linear infinite;
  z-index: 2;
  pointer-events: none;
}

@keyframes fall {
  0% {
    transform: translateY(-10vh) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translateY(110vh) rotate(360deg);
    opacity: 0;
  }
}

.sparkle {
  position: absolute;
  font-size: 12px;
  pointer-events: none;
  opacity: 0.8;
  animation: sparkleFade 0.8s linear forwards;
}

@keyframes sparkleFade {
  0% {
    transform: scale(1);
    opacity: 0.9;
  }
  100% {
    transform: scale(0.2) translateY(10px);
    opacity: 0;
  }
}
.trail-heart {
  position: absolute;
  pointer-events: none;
  font-size: 14px;
  animation: fadeTrail 0.8s forwards;
  z-index: 2;
}

@keyframes fadeTrail {
  0% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateY(-15px) scale(0.5);
  }
}
@keyframes glowPulse {
  0% {
    text-shadow:
      -4px -4px 0 #9F2B68,
       4px -4px 0 #9F2B68,
      -4px  4px 0 #9F2B68,
       4px  4px 0 #9F2B68,
       0 6px 10px rgba(0,0,0,0.25),
       0 0 10px #DA70D6;
  }

  100% {
    text-shadow:
      -4px -4px 0 #9F2B68,
       4px -4px 0 #9F2B68,
      -4px  4px 0 #9F2B68,
       4px  4px 0 #9F2B68,
       0 6px 10px rgba(0,0,0,0.25),
       0 0 25px #DA70D6,
       0 0 45px #ff69b4;
  }
}


</style>
</head>
<body>

<canvas id="canvas"></canvas>

<div id="message">
I KNEW THAT YOU'D SAY YES SHRITU 
<br>
‚ù§Ô∏èüéâüéä
<br><br>
AND ALSO A VERY VERY BOMBASTIC FANTASTIC BIRTHDAY CUTIEE 
<br>
üí£üí•üéÇ
</div>

<div class="container">
  <div class="question">Will you be mine forever Shritu?</div>
  <div class="buttons">
    <button id="yes">YES üíñ</button>
    <button id="no">NO üíî</button>
  </div>
</div>

<script>
const no = document.getElementById("no");
const yes = document.getElementById("yes");
const container = document.querySelector(".container");
const message = document.getElementById("message");

const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

/* SAFE MOVEMENT ZONE */
const safeMargin = 80;

let offsetX = 0;
let offsetY = 0;

const normalSpeed = 14;
const panicSpeed = 26;
const dangerRadius = 80;
const panicRadius = 45;

let mouseX = 0;
let mouseY = 0;

document.addEventListener("mousemove", (e) => {
  mouseX = e.clientX;
  mouseY = e.clientY;
  repel();
});

function repel() {
  const rect = no.getBoundingClientRect();

  const centerX = rect.left + rect.width / 2;
  const centerY = rect.top + rect.height / 2;

  const dx = mouseX - centerX;
  const dy = mouseY - centerY;

  const distance = Math.sqrt(dx * dx + dy * dy);
  if (distance > dangerRadius) return;

  let speed = distance < panicRadius ? panicSpeed : normalSpeed;

  offsetX -= (dx / distance) * speed;
  offsetY -= (dy / distance) * speed;

  bounceInsideSafeZone();
  no.style.transform = `translate(${offsetX}px, ${offsetY}px)`;
}

/* FIXED BOUNDARY LOGIC */
function bounceInsideSafeZone() {
  const rect = no.getBoundingClientRect();

  const leftLimit = safeMargin;
  const rightLimit = window.innerWidth - safeMargin;
  const topLimit = safeMargin;
  const bottomLimit = window.innerHeight - safeMargin;

  if (rect.left < leftLimit) {
    offsetX += (leftLimit - rect.left);
  }

  if (rect.right > rightLimit) {
    offsetX -= (rect.right - rightLimit);
  }

  if (rect.top < topLimit) {
    offsetY += (topLimit - rect.top);
  }

  if (rect.bottom > bottomLimit) {
    offsetY -= (rect.bottom - bottomLimit);
  }
}

no.addEventListener("click", (e) => e.preventDefault());

/* YES CLICK */
yes.addEventListener("click", () => {
  stopBackgroundHearts();
  container.style.display = "none";
  message.style.display = "block";

  typeMessage();
  explodeHearts();
  startHeartShower();
});

/* HEART EXPLOSION */
const hearts = [];

function explodeHearts() {
  for (let i = 0; i < 140; i++) {
    hearts.push({
      x: canvas.width / 2,
      y: canvas.height / 2,
      size: Math.random() * 20 + 10,
      speedX: (Math.random() - 0.5) * 8,
      speedY: (Math.random() - 0.5) * 8,
      color: `hsl(${Math.random() * 360},100%,60%)`
    });
  }
  animateHearts();
}

function drawHeart(x, y, size, color) {
  ctx.fillStyle = color;
  ctx.beginPath();
  ctx.moveTo(x, y);
  ctx.bezierCurveTo(x-size, y-size, x-size*2, y+size/2, x, y+size*2);
  ctx.bezierCurveTo(x+size*2, y+size/2, x+size, y-size, x, y);
  ctx.fill();
}

function animateHearts() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  hearts.forEach(h => {
    h.x += h.speedX;
    h.y += h.speedY;
    drawHeart(h.x, h.y, h.size, h.color);
  });

  requestAnimationFrame(animateHearts);
}

/* TYPING MESSAGE */

const fullMessage = `
I KNEW THAT YOU'D SAY YES SHRITU 
‚ù§Ô∏èüéâüéä

AND ALSO A VERY VERY BOMBASTIC FANTASTIC BIRTHDAY CUTIEE 
üí£üí•üéÇ
`;

function typeMessage() {
  message.innerHTML = "";
  let i = 0;

  function typing() {
    if (i < fullMessage.length) {
      if (fullMessage[i] === "\n") {
        message.innerHTML += "<br>";
      } else {
        message.innerHTML += fullMessage[i];
      }
      i++;
      setTimeout(typing, 100);
    }
  }

  typing();
}


/* HEART SHOWER */
function createHeart() {
  const heart = document.createElement("div");
  heart.classList.add("heart");
  heart.textContent = Math.random() > 0.5 ? "üíñ" : "üíù";

  document.body.appendChild(heart);

  const startPos = Math.random() * window.innerWidth;
  const duration = Math.random() * 5 + 4;
  const size = Math.random() * 25 + 20;

  heart.style.left = startPos + "px";
  heart.style.animationDuration = duration + "s";
  heart.style.top = "-10vh";
  heart.style.fontSize = size + "px";

  const sparkleInterval = setInterval(() => {
  const rect = heart.getBoundingClientRect();
  createSparkle(rect.left + rect.width / 2, rect.top + rect.height / 2);
  }, 120);

  setTimeout(() => {
    clearInterval(sparkleInterval);
    heart.remove();
  }, duration * 1000);

}

function startHeartShower() {
  setInterval(createHeart, 250);
}

function createSparkle(x, y) {
  const sparkle = document.createElement("div");
  sparkle.classList.add("sparkle");
  sparkle.textContent = Math.random() > 0.5 ? "‚ú®" : "üíñ";

  sparkle.style.left = x + "px";
  sparkle.style.top = y + "px";

  document.body.appendChild(sparkle);

  setTimeout(() => sparkle.remove(), 800);
}
/* CURSOR HEART TRAIL */

document.addEventListener("mousemove", (e) => {
  const heart = document.createElement("div");
  heart.classList.add("trail-heart");
  heart.textContent = "üíó";

  heart.style.left = e.clientX + "px";
  heart.style.top = e.clientY + "px";

  document.body.appendChild(heart);

  setTimeout(() => heart.remove(), 800);
});

let bgInterval;

function createBackgroundHeart() {
  const heart = document.createElement("div");
  heart.classList.add("bg-heart");
  heart.textContent = "üíó";

  document.body.appendChild(heart);

  heart.style.left = Math.random() * window.innerWidth + "px";
  heart.style.animationDuration = (Math.random() * 12 + 10) + "s";
  heart.style.fontSize = (Math.random() * 40 + 50) + "px";

  setTimeout(() => heart.remove(), 20000);
}

function startBackgroundHearts() {

  // Create some hearts immediately
  for (let i = 0; i < 6; i++) {
    createBackgroundHeart();
  }

  // Continue creating hearts normally
  bgInterval = setInterval(createBackgroundHeart, 900);
}


function stopBackgroundHearts() {
  clearInterval(bgInterval);
}

startBackgroundHearts();


</script>
</body>
</html>
